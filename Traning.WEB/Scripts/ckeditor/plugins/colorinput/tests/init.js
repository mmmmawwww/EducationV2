(function(){function e(b,a,e){return function(){var c=this.editorBot,d=c.testCase;c.editor.once("selectionChange",function(){c.dialog("testDialog",function(f){a(f);c.editor.once("dialogShow",function(a){d.resume(function(){assert.areSame(e,a.data.getContentElement("picker","selectedColor").getValue());a.data.getContentElement("picker","selectedColor").setValue("red");c.editor.once("dialogHide",function(a){d.resume(function(){var a=f.getContentElement("info",b);assert.areSame("red",a.getValue());a.previewField().$&&
assert.areSame("red",a.previewField().getStyle("background-color"));f.getButton("ok").click()})});a.data.getButton("ok").click();d.wait()})});d.wait()})});c.setHtmlWithSelection('[\x3cdiv data-expandedcolor\x3d"#333" data-compactcolor\x3d"#444" data-minimalcolor\x3d"#555"\x3e\x26nbsp;\x3c/div\x3e]')}}function g(b,a,e){return function(){var c=this.editorBot,d=c.testCase;c.editor.once("selectionChange",function(){c.dialog("testDialog",function(f){a(f);c.editor.once("dialogShow",function(a){d.resume(function(){assert.areSame(e,
a.data.getContentElement("picker","selectedColor").getValue());a.data.getContentElement("picker","clear").click();c.editor.once("dialogHide",function(a){d.resume(function(){var a=f.getContentElement("info",b);assert.areSame("",a.getValue());a.previewField().$&&assert.areSame("",a.previewField().getStyle("background-color"));f.getButton("ok").click()})});a.data.getButton("ok").click();d.wait()})});d.wait()})});c.setHtmlWithSelection('[\x3cdiv data-expandedcolor\x3d"#333" data-compactcolor\x3d"#444" data-minimalcolor\x3d"#555"\x3e\x26nbsp;\x3c/div\x3e]')}}
bender.editor=!0;bender.test({setUp:function(){this.editor.addCommand("testDialog",new CKEDITOR.dialogCommand("testDialog"));CKEDITOR.dialog.add("testDialog",function(b){return{title:"Color Input View",contents:[{id:"info",label:"Info",elements:[{id:"expandedpreview",type:"color",label:"Expanded Color Input",layout:"expanded","default":"chartreuse",setup:function(a){this.setValue(b.getSelection().getStartElement().data("expandedcolor"))},commit:function(a){b.getSelection().getStartElement().data("expandedcolor",
this.getValue())}},{id:"compactpreview",type:"color",label:"Compact Color Input",layout:"compact","default":"#f93",setup:function(a){this.setValue(b.getSelection().getStartElement().data("compactcolor"))},commit:function(a){b.getSelection().getStartElement().data("compactcolor",this.getValue())}},{id:"minimalpreview",type:"color",label:"Minimal Color Input (popup on click)",layout:"minimal","default":"#909",setup:function(a){this.setValue(b.getSelection().getStartElement().data("minimalcolor"))},
commit:function(a){b.getSelection().getStartElement().data("minimalcolor",this.getValue())}}]}],onShow:function(){this.setupContent(b.getSelection().getStartElement())},onOk:function(){this.commitContent(b.getSelection().getStartElement())}}})},"test getValue setValue":function(){var b=this.editorBot;b.editor.once("selectionChange",function(){b.dialog("testDialog",function(a){assert.areSame("#333",a.getContentElement("info","expandedpreview").getValue());assert.areSame("#444",a.getContentElement("info",
"compactpreview").getValue());assert.areSame("#555",a.getContentElement("info","minimalpreview").getValue());a.getButton("ok").click();assert.areSame("#333",b.editor.getSelection().getStartElement().data("expandedcolor"));assert.areSame("#444",b.editor.getSelection().getStartElement().data("compactcolor"));assert.areSame("#555",b.editor.getSelection().getStartElement().data("minimalcolor"))})});b.setHtmlWithSelection('[\x3cdiv data-expandedcolor\x3d"#333" data-compactcolor\x3d"#444" data-minimalcolor\x3d"#555"\x3e\x26nbsp;\x3c/div\x3e]')},
"test colordialog expanded":e("expandedpreview",function(b){b.getContentElement("info","expandedpreview").chooseField().fire("click")},"#333"),"test colordialog compact":e("compactpreview",function(b){b.getContentElement("info","compactpreview").chooseField().fire("click")},"#444"),"test colordialog minimal":e("minimalpreview",function(b){b.getContentElement("info","minimalpreview").textField().fire("click")},"#555"),"test colordialog clear expanded":g("expandedpreview",function(b){b.getContentElement("info",
"expandedpreview").chooseField().fire("click")},"#333"),"test colordialog clear compact":g("compactpreview",function(b){b.getContentElement("info","compactpreview").chooseField().fire("click")},"#444"),"test colordialog clear minimal":g("minimalpreview",function(b){b.getContentElement("info","minimalpreview").textField().fire("click")},"#555")})})();